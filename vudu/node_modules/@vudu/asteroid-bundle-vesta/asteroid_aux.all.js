var requirejs,require,define;!function(global){function isFunction(a){return"[object Function]"===ostring.call(a)}function isArray(a){return"[object Array]"===ostring.call(a)}function each(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function eachReverse(a,b){if(a){var c;for(c=a.length-1;c>-1&&(!a[c]||!b(a[c],c,a));c-=1);}}function hasProp(a,b){return hasOwn.call(a,b)}function getOwn(a,b){return hasProp(a,b)&&a[b]}function eachProp(a,b){var c;for(c in a)if(hasProp(a,c)&&b(a[c],c))break}function mixin(a,b,c,d){return b&&eachProp(b,function(b,e){!c&&hasProp(a,e)||(!d||"object"!=typeof b||!b||isArray(b)||isFunction(b)||b instanceof RegExp?a[e]=b:(a[e]||(a[e]={}),mixin(a[e],b,c,d)))}),a}function bind(a,b){return function(){return b.apply(a,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(a){throw a}function getGlobal(a){if(!a)return a;var b=global;return each(a.split("."),function(a){b=b[a]}),b}function makeError(a,b,c,d){var e=new Error(b+"\nhttp://requirejs.org/docs/errors.html#"+a);return e.requireType=a,e.requireModules=d,c&&(e.originalError=c),e}function newContext(a){function b(a){var b,c;for(b=0;b<a.length;b++)if(c=a[b],"."===c)a.splice(b,1),b-=1;else if(".."===c){if(0===b||1===b&&".."===a[2]||".."===a[b-1])continue;b>0&&(a.splice(b-1,2),b-=2)}}function c(a,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q=c&&c.split("/"),r=x.map,s=r&&r["*"];if(a&&(a=a.split("/"),k=a.length-1,x.nodeIdCompat&&jsSuffixRegExp.test(a[k])&&(a[k]=a[k].replace(jsSuffixRegExp,"")),"."===a[0].charAt(0)&&q&&(p=q.slice(0,q.length-1),a=p.concat(a)),b(a),a=a.join("/")),d&&r&&(q||s)){g=a.split("/");a:for(h=g.length;h>0;h-=1){if(j=g.slice(0,h).join("/"),q)for(i=q.length;i>0;i-=1)if(f=getOwn(r,q.slice(0,i).join("/")),f&&(f=getOwn(f,j))){l=f,m=h;break a}!n&&s&&getOwn(s,j)&&(n=getOwn(s,j),o=h)}!l&&n&&(l=n,m=o),l&&(g.splice(0,m,l),a=g.join("/"))}return e=getOwn(x.pkgs,a),e?e:a}function d(a){isBrowser&&each(scripts(),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===u.contextName)return b.parentNode.removeChild(b),!0})}function e(a){var b=getOwn(x.paths,a);if(b&&isArray(b)&&b.length>1)return b.shift(),u.require.undef(a),u.makeRequire(null,{skipMap:!0})([a]),!0}function f(a){var b,c=a?a.indexOf("!"):-1;return c>-1&&(b=a.substring(0,c),a=a.substring(c+1,a.length)),[b,a]}function g(a,b,d,e){var g,h,i,j,k=null,l=b?b.name:null,m=a,n=!0,o="";return a||(n=!1,a="_@r"+(F+=1)),j=f(a),k=j[0],a=j[1],k&&(k=c(k,l,e),h=getOwn(C,k)),a&&(k?o=h&&h.normalize?h.normalize(a,function(a){return c(a,l,e)}):a.indexOf("!")===-1?c(a,l,e):a:(o=c(a,l,e),j=f(o),k=j[0],o=j[1],d=!0,g=u.nameToUrl(o))),i=!k||h||d?"":"_unnormalized"+(G+=1),{prefix:k,name:o,parentMap:b,unnormalized:!!i,url:g,originalName:m,isDefine:n,id:(k?k+"!"+o:o)+i}}function h(a){var b=a.id,c=getOwn(y,b);return c||(c=y[b]=new u.Module(a)),c}function i(a,b,c){var d=a.id,e=getOwn(y,d);!hasProp(C,d)||e&&!e.defineEmitComplete?(e=h(a),e.error&&"error"===b?c(e.error):e.on(b,c)):"defined"===b&&c(C[d])}function j(a,b){var c=a.requireModules,d=!1;b?b(a):(each(c,function(b){var c=getOwn(y,b);c&&(c.error=a,c.events.error&&(d=!0,c.emit("error",a)))}),d||req.onError(a))}function k(){globalDefQueue.length&&(each(globalDefQueue,function(a){var b=a[0];"string"==typeof b&&(u.defQueueMap[b]=!0),B.push(a)}),globalDefQueue=[])}function l(a){delete y[a],delete z[a]}function m(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,each(a.depMaps,function(d,e){var f=d.id,g=getOwn(y,f);!g||a.depMatched[e]||c[f]||(getOwn(b,f)?(a.defineDep(e,C[f]),a.check()):m(g,b,c))}),c[d]=!0)}function n(){var a,b,c=1e3*x.waitSeconds,f=c&&u.startTime+c<(new Date).getTime(),g=[],h=[],i=!1,k=!0;if(!s){if(s=!0,eachProp(z,function(a){var c=a.map,j=c.id;if(a.enabled&&(c.isDefine||h.push(a),!a.error))if(!a.inited&&f)e(j)?(b=!0,i=!0):(g.push(j),d(j));else if(!a.inited&&a.fetched&&c.isDefine&&(i=!0,!c.prefix))return k=!1}),f&&g.length)return a=makeError("timeout","Load timeout for modules: "+g,null,g),a.contextName=u.contextName,j(a);k&&each(h,function(a){m(a,{},{})}),f&&!b||!i||!isBrowser&&!isWebWorker||w||(w=setTimeout(function(){w=0,n()},50)),s=!1}}function o(a){hasProp(C,a[0])||h(g(a[0],null,!0)).init(a[1],a[2])}function p(a,b,c,d){a.detachEvent&&!isOpera?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function q(a){var b=a.currentTarget||a.srcElement;return p(b,u.onScriptLoad,"load","onreadystatechange"),p(b,u.onScriptError,"error"),{node:b,id:b&&b.getAttribute("data-requiremodule")}}function r(){var a;for(k();B.length;){if(a=B.shift(),null===a[0])return j(makeError("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));o(a)}u.defQueueMap={}}var s,t,u,v,w,x={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},y={},z={},A={},B=[],C={},D={},E={},F=1,G=1;return v={require:function(a){return a.require?a.require:a.require=u.makeRequire(a.map)},exports:function(a){if(a.usingExports=!0,a.map.isDefine)return a.exports?C[a.map.id]=a.exports:a.exports=C[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return getOwn(x.config,a.map.id)||{}},exports:a.exports||(a.exports={})}}},t=function(a){this.events=getOwn(A,a.id)||{},this.map=a,this.shim=getOwn(x.shim,a.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},t.prototype={init:function(a,b,c,d){d=d||{},this.inited||(this.factory=b,c?this.on("error",c):this.events.error&&(c=bind(this,function(a){this.emit("error",a)})),this.depMaps=a&&a.slice(0),this.errback=c,this.inited=!0,this.ignore=d.ignore,d.enabled||this.enabled?this.enable():this.check())},defineDep:function(a,b){this.depMatched[a]||(this.depMatched[a]=!0,this.depCount-=1,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0,u.startTime=(new Date).getTime();var a=this.map;return this.shim?void u.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return a.prefix?this.callPlugin():this.load()})):a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;D[a]||(D[a]=!0,u.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a,b,c=this.map.id,d=this.depExports,e=this.exports,f=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(f)){try{e=u.execCb(c,f,d,e)}catch(g){a=g}if(this.map.isDefine&&void 0===e&&(b=this.module,b?e=b.exports:this.usingExports&&(e=this.exports)),a){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)return a.requireMap=this.map,a.requireModules=this.map.isDefine?[this.map.id]:null,a.requireType=this.map.isDefine?"define":"require",j(this.error=a);"undefined"!=typeof console&&console.error?console.error(a):req.onError(a)}}else e=f;if(this.exports=e,this.map.isDefine&&!this.ignore&&(C[c]=e,req.onResourceLoad)){var h=[];each(this.depMaps,function(a){h.push(a.normalizedMap||a)}),req.onResourceLoad(u,this.map,h)}l(c),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else hasProp(u.defQueueMap,c)||this.fetch()}},callPlugin:function(){var a=this.map,b=a.id,d=g(a.prefix);this.depMaps.push(d),i(d,"defined",bind(this,function(d){var e,f,k,m=getOwn(E,this.map.id),n=this.map.name,o=this.map.parentMap?this.map.parentMap.name:null,p=u.makeRequire(a.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(d.normalize&&(n=d.normalize(n,function(a){return c(a,o,!0)})||""),f=g(a.prefix+"!"+n,this.map.parentMap),i(f,"defined",bind(this,function(a){this.map.normalizedMap=f,this.init([],function(){return a},null,{enabled:!0,ignore:!0})})),k=getOwn(y,f.id),void(k&&(this.depMaps.push(f),this.events.error&&k.on("error",bind(this,function(a){this.emit("error",a)})),k.enable()))):m?(this.map.url=u.nameToUrl(m),void this.load()):(e=bind(this,function(a){this.init([],function(){return a},null,{enabled:!0})}),e.error=bind(this,function(a){this.inited=!0,this.error=a,a.requireModules=[b],eachProp(y,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&l(a.map.id)}),j(a)}),e.fromText=bind(this,function(c,d){var f=a.name,i=g(f),k=useInteractive;d&&(c=d),k&&(useInteractive=!1),h(i),hasProp(x.config,b)&&(x.config[f]=x.config[b]);try{req.exec(c)}catch(l){return j(makeError("fromtexteval","fromText eval for "+b+" failed: "+l,l,[b]))}k&&(useInteractive=!0),this.depMaps.push(i),u.completeLoad(f),p([f],e)}),void d.load(a.name,p,e,x))})),u.enable(d,this),this.pluginMaps[d.id]=d},enable:function(){z[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(a,b){var c,d,e;if("string"==typeof a){if(a=g(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[b]=a,e=getOwn(v,a.id))return void(this.depExports[b]=e(this));this.depCount+=1,i(a,"defined",bind(this,function(a){this.undefed||(this.defineDep(b,a),this.check())})),this.errback?i(a,"error",bind(this,this.errback)):this.events.error&&i(a,"error",bind(this,function(a){this.emit("error",a)}))}c=a.id,d=y[c],hasProp(v,c)||!d||d.enabled||u.enable(a,this)})),eachProp(this.pluginMaps,bind(this,function(a){var b=getOwn(y,a.id);b&&!b.enabled&&u.enable(a,this)})),this.enabling=!1,this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]),c.push(b)},emit:function(a,b){each(this.events[a],function(a){a(b)}),"error"===a&&delete this.events[a]}},u={config:x,contextName:a,registry:y,defined:C,urlFetched:D,defQueue:B,defQueueMap:{},Module:t,makeModuleMap:g,nextTick:req.nextTick,onError:j,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");var b=x.shim,c={paths:!0,bundles:!0,config:!0,map:!0};eachProp(a,function(a,b){c[b]?(x[b]||(x[b]={}),mixin(x[b],a,!0,!0)):x[b]=a}),a.bundles&&eachProp(a.bundles,function(a,b){each(a,function(a){a!==b&&(E[a]=b)})}),a.shim&&(eachProp(a.shim,function(a,c){isArray(a)&&(a={deps:a}),!a.exports&&!a.init||a.exportsFn||(a.exportsFn=u.makeShimExports(a)),b[c]=a}),x.shim=b),a.packages&&each(a.packages,function(a){var b,c;a="string"==typeof a?{name:a}:a,c=a.name,b=a.location,b&&(x.paths[c]=a.location),x.pkgs[c]=a.name+"/"+(a.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}),eachProp(y,function(a,b){a.inited||a.map.unnormalized||(a.map=g(b,null,!0))}),(a.deps||a.callback)&&u.require(a.deps||[],a.callback)},makeShimExports:function(a){function b(){var b;return a.init&&(b=a.init.apply(global,arguments)),b||a.exports&&getGlobal(a.exports)}return b},makeRequire:function(b,e){function f(c,d,i){var k,l,m;return e.enableBuildCallback&&d&&isFunction(d)&&(d.__requireJsBuild=!0),"string"==typeof c?isFunction(d)?j(makeError("requireargs","Invalid require call"),i):b&&hasProp(v,c)?v[c](y[b.id]):req.get?req.get(u,c,b,f):(l=g(c,b,!1,!0),k=l.id,hasProp(C,k)?C[k]:j(makeError("notloaded",'Module name "'+k+'" has not been loaded yet for context: '+a+(b?"":". Use require([])")))):(r(),u.nextTick(function(){r(),m=h(g(null,b)),m.skipMap=e.skipMap,m.init(c,d,i,{enabled:!0}),n()}),f)}return e=e||{},mixin(f,{isBrowser:isBrowser,toUrl:function(a){var d,e=a.lastIndexOf("."),f=a.split("/")[0],g="."===f||".."===f;return e!==-1&&(!g||e>1)&&(d=a.substring(e,a.length),a=a.substring(0,e)),u.nameToUrl(c(a,b&&b.id,!0),d,!0)},defined:function(a){return hasProp(C,g(a,b,!1,!0).id)},specified:function(a){return a=g(a,b,!1,!0).id,hasProp(C,a)||hasProp(y,a)}}),b||(f.undef=function(a){k();var c=g(a,b,!0),e=getOwn(y,a);e.undefed=!0,d(a),delete C[a],delete D[c.url],delete A[a],eachReverse(B,function(b,c){b[0]===a&&B.splice(c,1)}),delete u.defQueueMap[a],e&&(e.events.defined&&(A[a]=e.events),l(a))}),f},enable:function(a){var b=getOwn(y,a.id);b&&h(a).enable()},completeLoad:function(a){var b,c,d,f=getOwn(x.shim,a)||{},g=f.exports;for(k();B.length;){if(c=B.shift(),null===c[0]){if(c[0]=a,b)break;b=!0}else c[0]===a&&(b=!0);o(c)}if(u.defQueueMap={},d=getOwn(y,a),!b&&!hasProp(C,a)&&d&&!d.inited){if(!(!x.enforceDefine||g&&getGlobal(g)))return e(a)?void 0:j(makeError("nodefine","No define call for "+a,null,[a]));o([a,f.deps||[],f.exportsFn])}n()},nameToUrl:function(a,b,c){var d,e,f,g,h,i,j,k=getOwn(x.pkgs,a);if(k&&(a=k),j=getOwn(E,a))return u.nameToUrl(j,b,c);if(req.jsExtRegExp.test(a))h=a+(b||"");else{for(d=x.paths,e=a.split("/"),f=e.length;f>0;f-=1)if(g=e.slice(0,f).join("/"),i=getOwn(d,g)){isArray(i)&&(i=i[0]),e.splice(0,f,i);break}h=e.join("/"),h+=b||(/^data\:|\?/.test(h)||c?"":".js"),h=("/"===h.charAt(0)||h.match(/^[\w\+\.\-]+:/)?"":x.baseUrl)+h}return x.urlArgs?h+((h.indexOf("?")===-1?"?":"&")+x.urlArgs):h},load:function(a,b){req.load(u,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||readyRegExp.test((a.currentTarget||a.srcElement).readyState)){interactiveScript=null;var b=q(a);u.completeLoad(b.id)}},onScriptError:function(a){var b=q(a);if(!e(b.id)){var c=[];return eachProp(y,function(a,d){0!==d.indexOf("_@r")&&each(a.depMaps,function(a){return a.id===b.id&&c.push(d),!0})}),j(makeError("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}},u.require=u.makeRequire(),u}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(a){if("interactive"===a.readyState)return interactiveScript=a}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.22",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,isBrowser=!("undefined"==typeof window||"undefined"==typeof navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(a,b,c,d){var e,f,g=defContextName;return isArray(a)||"string"==typeof a||(f=a,isArray(b)?(a=b,b=c,c=d):a=[]),f&&f.context&&(g=f.context),e=getOwn(contexts,g),e||(e=contexts[g]=req.s.newContext(g)),f&&e.configure(f),e.require(a,b,c)},req.config=function(a){return req(a)},req.nextTick="undefined"!=typeof setTimeout?function(a){setTimeout(a,4)}:function(a){a()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(a){req[a]=function(){var b=contexts[defContextName];return b.require[a].apply(b,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.createNode=function(a,b,c){var d=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script");return d.type=a.scriptType||"text/javascript",d.charset="utf-8",d.async=!0,d},req.load=function(a,b,c){var d,e=a&&a.config||{};if(isBrowser)return d=req.createNode(e,b,c),e.onNodeCreated&&e.onNodeCreated(d,e,b,c),d.setAttribute("data-requirecontext",a.contextName),d.setAttribute("data-requiremodule",b),!d.attachEvent||d.attachEvent.toString&&d.attachEvent.toString().indexOf("[native code")<0||isOpera?(d.addEventListener("load",a.onScriptLoad,!1),d.addEventListener("error",a.onScriptError,!1)):(useInteractive=!0,d.attachEvent("onreadystatechange",a.onScriptLoad)),d.src=c,currentlyAddingScript=d,baseElement?head.insertBefore(d,baseElement):head.appendChild(d),currentlyAddingScript=null,d;if(isWebWorker)try{importScripts(c),a.completeLoad(b)}catch(f){a.onError(makeError("importscripts","importScripts failed for "+b+" at "+c,f,[b]))}},isBrowser&&!cfg.skipDataMain&&eachReverse(scripts(),function(a){if(head||(head=a.parentNode),dataMain=a.getAttribute("data-main"))return mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0}),define=function(a,b,c){var d,e;"string"!=typeof a&&(c=b,b=a,a=null),isArray(b)||(c=b,b=null),!b&&isFunction(c)&&(b=[],c.length&&(c.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(a,c){b.push(c)}),b=(1===c.length?["require"]:["require","exports","module"]).concat(b))),useInteractive&&(d=currentlyAddingScript||getInteractiveScript(),d&&(a||(a=d.getAttribute("data-requiremodule")),e=contexts[d.getAttribute("data-requirecontext")])),e?(e.defQueue.push([a,b,c]),e.defQueueMap[a]=!0):globalDefQueue.push([a,b,c])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),window.Asteroid||(window.Asteroid={},Asteroid.ReadyEvent="com.vudu.asteroid.asteroid-ready",Asteroid.ready=!1),define("ensis/lang/object",[],function(){function a(a,b){var c=b||{};for(var d in a)c.hasOwnProperty(d)||(c[d]=a[d]);return c}function b(){return{extend:a}}return b()}),define("asteroid/target/target",{target:"vesta"}),define("ensis/data/format",[],function(){function a(a){var b=a/3600|0,c=(a-3600*b)/60|0,d=a-60*(60*b+c)|0,e=""+b;return e+=":",c<10&&(e+="0"),e+=c,e+=":",d<10&&(e+="0"),e+=d}function b(a){if(0==a)return"0x";if(a<0)return"-"+b(~a+1);var c=15&a;return c<10?c=""+c:(c-=10,c+="A".charCodeAt(0),c=String.fromCharCode(c)),b(a/16|0)+c}function c(a){return"number"!=typeof a||0==a?"0x0":b(a)}function d(a){if("string"!=typeof a)return!1;var b=a[0];return b>="a"&&b<="f"||(b>="A"&&b<="F"||b>="0"&&b<="9")}function e(a,b){var c="<n/a>("+b+")";try{c=Object.keys(a).reduce(function(c,d){return a[d]===b?d:c})}catch(d){c="<invalid key/value for lookup>"}return c}function f(){return{timeToString:a,toHex:c,isHexChar:d,keyLookup:e}}return f()}),define("ensis/logger/logclient",["module","ensis/data/format"],function(a,b){"use strict";function c(){function a(a,b){throw new Error("report function must be overridden in LogClient")}return{report:a}}function d(){return{report:function(){},isNullClient:function(){return!0}}}function e(){function c(a,c){var d=m[a];if("function"!=typeof d&&(d=m.log),j){var e=Date.now();e/=1e3,e|=0,e!==l&&(i=b.timeToString(e-k),l=e),e=i,d.call(console,["[",e,"] ",c].join(""))}else d.call(console,c)}var d=console.error,e=console.warn,f=console.log,g=console.debug,h=a.config();h&&h.console&&h.console.timestamp&&(j=h.console.timestamp);var i,k=Date.now()/1e3|0,l=0,m={error:d,warn:e,log:f,trace:g};return{report:c}}function f(a){function b(b){a.report(k.error,b)}function c(b){a.report(k.warn,b)}function d(b){a.report(k.log,b)}function e(b){a.report(k.trace,b)}return{error:b,warn:c,log:d,trace:e}}function g(){return h=d(),i=e(),{Level:k,createAbstractClient:c,getConsoleClient:function(){return i},getNullClient:function(){return h},createLogMapper:f}}var h,i,j=!1,k={error:"error",warn:"warn",log:"log",trace:"trace"};return g()}),define("ensis/logger/logger",["module","ensis/logger/logclient"],function(a,b){"use strict";function c(a){var b;return b=m[a]?m[a]:k}function d(a){var b={},d=0,e=null;return b.getName=function(){return a},b.setClient=function(a){e=a},b.getClient=function(){return e},b.getConfigTime=function(){return d},b.configureLoggerLevels=function(){function e(a,b,c){return function(){a.call(b,c,Array.apply(null,arguments))}}var f=c(a),i=n[f];for(var j in i)i[j]?b[j]=e(g,b,j):b[j]=e(h,b,j);d=Date.now()},b.configureLoggerLevels(),b}function e(a){o=a}function f(a){k=a,l=Date.now()}function g(a,b){var c=this,d=c.getName();if(i(c.getConfigTime()))return c.configureLoggerLevels(),void c[a].apply(c,b);var e=c.getClient();if("undefined"==typeof e||null===e)e=o;else if("function"==typeof e.isNullClient&&e.isNullClient())return;var f=b.map(function(a){if("undefined"==typeof a)return"<undefined>";if(null===a)return"<null>";if("object"==typeof a){var b;try{b=JSON.stringify(a)}catch(c){try{b="[Object] (E): "+Object.keys(a).join()}catch(d){b="[Object] (E): "+d.message}}return b}return a});f.unshift(d,": "),e.report(a,f.join(""))}function h(a,b){var c=this;if(i(c.getConfigTime()))return c.configureLoggerLevels(),void c[a].apply(c,b)}function i(a){return a<l}function j(){return{create:d,setDefaultClient:e,setDefaultLogLevel:f}}var k,l=0,m=a.config();m||(m={}),k=m["default"]?m["default"]:"log";var n={error:{trace:!1,log:!1,warn:!1,error:!0},warn:{trace:!1,log:!1,warn:!0,error:!0},log:{trace:!1,log:!0,warn:!0,error:!0},trace:{trace:!0,log:!0,warn:!0,error:!0}},o=b.getConsoleClient();return j()}),define("ensis/media/types",[],function(){"use strict";var a={AUDIO:"audio",VIDEO:"video"},b={SD:"sd",SD_HIGHP:"sd-highp",SD_MAIN10:"sd-main10",HD:"hd",HDX:"hdx",HDX_HIGHP:"hdx-highp",HDX_MAIN10:"hdx-main10",UHD:"uhd",SDR:"uhd-sdr",HDR10:"uhd-hdr10",DOVI:"uhd-dolbyvision",DOVI4:"uhd-dovi-4",DOVI5:"uhd-dovi-5",UHD_SDR:"uhd-sdr",UHD_MAIN10:"uhd-main10",UHD_HDR10:"uhd-hdr10",UHD_DOVI4:"uhd-dovi-4",UHD_DOVI5:"uhd-dovi-5"},c={AAC:"aac",DD:"dd",DDP:"ddp",ATMOS:"atmos",PCM_STEREO:"pcm_stereo",PCM_SURROUND:"pcm_surround"},d={Audio:c,Video:b},e={widevine:"EDEF8BA9-79D6-4ACE-A3C8-27DCD51D21ED",playready:"9A04F079-9840-4286-AB92-E65BE0885F95",dash:"mp4protection:2011",dash2011:"mp4protection:2011"},f=function(){function a(a){var b=c.unknown;return a&&(b=0===a.indexOf("audio/")?c.audio:0===a.indexOf("video/")?c.video:c.other),b}function b(a){return a>c._media}var c={unknown:0,other:1,_media:256,audio:257,video:258};return{unknown:c.unknown,other:c.other,audio:c.audio,video:c.video,getType:a,isMedia:b}}(),g=function(){function a(a){return a==h.AUDIO||(a==h.VIDEO||a==h.TEXT)}function b(b){var c=b&i,d=b&j;if(!a(d))throw new Error("Type must be non-zero: "+b+" ("+d+")");return{index:c,type:d}}function c(b,c){if(!a(b))throw new Error("Type must be one of type: "+JSON.stringify(h));if(c>i)throw new Error("Can't have more than "+i+" tracks per type");return b|c}function d(a){var c=b(a);return c.index}function e(a){var c=b(a);return c.type}function f(a,b){var d=0;switch(a){case cast.receiver.media.TrackType.VIDEO:d=h.VIDEO;break;case cast.receiver.media.TrackType.AUDIO:d=h.AUDIO;break;case cast.receiver.media.TrackType.TEXT:d=h.TEXT}return c(d,b)}function g(a){var c=b(a),d=0;switch(c.type){case h.VIDEO:d=cast.receiver.media.TrackType.VIDEO;break;case h.AUDIO:d=cast.receiver.media.TrackType.AUDIO;break;case h.TEXT:d=cast.receiver.media.TrackType.TEXT}return{type:d,index:c.index}}var h={AUDIO:16,VIDEO:32,TEXT:64},i=15,j=h.AUDIO|h.VIDEO|h.TEXT;if(0!==(i&j))throw new Error("Masks overlap");return{Type:h,toIndex:d,toType:e,toTuple:b,makeCastId:f,makeCastTuple:g}}();return{MediaType:a,MediaFormat:d,Track:g,AdaptationType:f,DrmSchemeUUID:e}}),define("ensis/media/codec",["ensis/media/types","ensis/logger/logger"],function(a,b){function c(a,b){var c=!1,d=a.split(";");if(2!==d.length)e.error("Codec string must have a ';': ",a);else{var f=d[1];d=f.split("="),2!==d.length?e.error("Codec string must have a '=': ",a):(f=d[1],-1!==f.indexOf(b)&&(c=!0))}return e.trace("codec ",b,c?" is":" not"," present in ",a),c}function d(a,b){var c,d=null,f=a.split(","),g=f.length;Array.isArray(b)?c=b:"string"==typeof b&&(c=[b]);var h={};f.forEach(function(a){a=a.trim(),h[a]=!0}),c.forEach(function(a){a=a.trim(),delete h[a]}),f=[];for(var i in h)f.push(i);d=0===f.length?"":f.join(",");var j=f.length;return g!==j&&e.log("Codec string modified: ",a," -> ",d),d}var e=b.create("Codec"),f={type:a.Track.Type.AUDIO,name:"AAC-LC","class":a.MediaFormat.Audio.AAC,codecs:"mp4a.40.2",priority:1},g={type:a.Track.Type.AUDIO,name:"AAC-HE","class":a.MediaFormat.Audio.AAC,codecs:"mp4a.40.5",priority:1},h={type:a.Track.Type.AUDIO,name:"Dolby Digital","class":a.MediaFormat.Audio.DD,codecs:"ac-3",priority:2},i={type:a.Track.Type.AUDIO,name:"Dolby Digital Plus","class":a.MediaFormat.Audio.DDP,codecs:"ec-3",priority:3},j={type:a.Track.Type.VIDEO,name:"AVC(1)","class":[a.MediaFormat.Video.SD,a.MediaFormat.Video.SD_HIGHP,a.MediaFormat.Video.HD,a.MediaFormat.Video.HDX,a.MediaFormat.Video.HDX_HIGHP],codecs:"avc1.640029",priority:1},k={type:a.Track.Type.VIDEO,name:"AVC(3)","class":[a.MediaFormat.Video.SD,a.MediaFormat.Video.SD_HIGHP,a.MediaFormat.Video.HD,a.MediaFormat.Video.HDX,a.MediaFormat.Video.HDX_HIGHP],codecs:"avc3.640029",priority:1},l={type:a.Track.Type.VIDEO,name:"HEVC/H265 2K","class":[a.MediaFormat.Video.SD_MAIN10,a.MediaFormat.Video.HDX_MAIN10,a.MediaFormat.Video.UHD_MAIN10,a.MediaFormat.Video.UHD_SDR],codecs:"hev1.2.4.L150.B0",priority:2},m=({type:a.Track.Type.VIDEO,name:"HDR10 2K","class":a.MediaFormat.Video.UHD_HDR10,codecs:"hev1.2.4.L120.B0",eotf:"smpte2084",priority:3},{type:a.Track.Type.VIDEO,name:"HDR10 4K","class":a.MediaFormat.Video.UHD_HDR10,codecs:"hev1.2.4.L150.B0",eotf:"smpte2084",priority:3}),n={type:a.Track.Type.VIDEO,name:"Dolby Vision Profile 4","class":[a.MediaFormat.Video.DOVI,a.MediaFormat.Video.DOVI4],codecs:"hev1.2.4.L150.B0,dvhe.dtr",priority:4,canbe:["hev1.2.4.L120.B0"]},o={type:a.Track.Type.VIDEO,name:"Dolby Vision P4 2K 24fps","class":a.MediaFormat.Video.UHD_DOVI4,codecs:"hev1.2.4.L120.B0,dvhe.04.03",priority:4,canbe:["hev1.2.4.L120.B0"]},p={type:a.Track.Type.VIDEO,name:"Dolby Vision P4 2K 30fps","class":a.MediaFormat.Video.UHD_DOVI4,codecs:"hev1.2.4.L120.B0,dvhe.04.04",priority:4,canbe:["hev1.2.4.L120.B0"]},q={type:a.Track.Type.VIDEO,name:"Dolby Vision P4 4K 24fps","class":a.MediaFormat.Video.UHD_DOVI4,codecs:"hev1.2.4.L150.B0,dvhe.04.06",priority:4,canbe:["hev1.2.4.L150.B0"]},r={type:a.Track.Type.VIDEO,name:"Dolby Vision P4 4K 30fps","class":a.MediaFormat.Video.UHD_DOVI4,codecs:"hev1.2.4.L150.B0,dvhe.04.07",priority:4,canbe:["hev1.2.4.L150.B0"]},s={type:a.Track.Type.VIDEO,name:"Dolby Vision P5 2K 24fps","class":a.MediaFormat.Video.UHD_DOVI5,codecs:"dvhe.05.03",priority:5},t={type:a.Track.Type.VIDEO,name:"Dolby Vision P5 2K 30fps","class":a.MediaFormat.Video.UHD_DOVI5,codecs:"dvhe.05.04",priority:5},u={type:a.Track.Type.VIDEO,name:"Dolby Vision P5 4K 24fps","class":a.MediaFormat.Video.UHD_DOVI5,codecs:"dvhe.05.06",priority:5},v={type:a.Track.Type.VIDEO,name:"Dolby Vision P5 4K 30fps","class":a.MediaFormat.Video.UHD_DOVI5,codecs:"dvhe.05.07",priority:5},w={makeCodecsString:function(a,b){var c=a+'; codecs="'+b+'"';return c},checkCodecsString:c,removeCodecs:d,PROBABLY:"probably",MAYBE:"maybe",NONE:"",Formats:{audio:[f,g,h,i],video:[j,k,l,m,n,o,p,q,r,s,t,u,v]},Names:{audio:{AACLC:0,AACHE:1,DolbyDigital:2,DolbyDigitalPlus:3},video:{H264:0,H264DASH:1,H265:2,HDR10:3,DOVI:4,DOVI_2k_24:5,DOVI_2k_30:6,DOVI_4k_24:7,DOVI_4k_30:8,DOVI4_2k_24:5,DOVI4_2k_30:6,DOVI4_4k_24:7,DOVI4_4k_30:8,DOVI4:8,DOVI5_2k_24:9,DOVI5_2k_30:10,DOVI5_4k_24:11,DOVI5_4k_30:12,DOVI5:12}}};return w}),define("ensis/media/fc/mediaelement",["ensis/logger/logger","ensis/media/codec"],function(a,b){"use strict";function c(a){var c=a&&"function"==typeof a.createElement?a.createElement:function(){return document.createElement("video")},d=c(),f=function(a){var c;try{c=d.canPlayType(a)}catch(f){e.error("canplay threw ",f.message)}return"string"==typeof c&&b.PROBABLY===c.toLowerCase()};return f}function d(){return{createElement:null,type:null}}var e=a.create("formatcheck/htmlME");return{createParameters:d,makeCheckFunction:c}}),define("ensis/media/fc/mediasource",[],function(){"use strict";function a(a){var c;return c=a&&"function"==typeof a.isTypeSupported?a.isTypeSupported:b}function b(a){return MediaSource.isTypeSupported(a)}function c(){return{isTypeSupported:null,type:null}}return{createParameters:c,makeCheckFunction:a}}),define("ensis/media/formatcheckV2",["ensis/logger/logger","ensis/media/types","ensis/media/codec","./fc/mediaelement","./fc/mediasource"],function(a,b,c,d,e){"use strict";function f(a,d){var e,f,g,h=[b.MediaFormat.Video.SD,b.MediaFormat.Video.HD,b.MediaFormat.Video.HDX,b.MediaFormat.Video.SD_HIGHP,b.MediaFormat.Video.HDX_HIGHP,b.MediaFormat.Video.SD_MAIN10,b.MediaFormat.Video.HDX_MAIN10,b.MediaFormat.Video.UHD_SDR,b.MediaFormat.Video.UHD_MAIN10,b.MediaFormat.Video.UHD_HDR10,b.MediaFormat.Video.UHD_DOVI4,b.MediaFormat.Video.UHD_DOVI5],i=[b.MediaFormat.Audio.AAC,b.MediaFormat.Audio.DD,b.MediaFormat.Audio.DDP],k=[c.Formats.video[c.Names.video.H264],c.Formats.video[c.Names.video.H264DASH],c.Formats.video[c.Names.video.H265],c.Formats.video[c.Names.video.HDR10],c.Formats.video[c.Names.video.DOVI4],c.Formats.video[c.Names.video.DOVI5]],l=[c.Formats.audio[c.Names.audio.AACLC],c.Formats.audio[c.Names.audio.DolbyDigital],c.Formats.audio[c.Names.audio.DolbyDigitalPlus]];b.MediaType.AUDIO===a?(e=i,f=l,g="audio/mp4"):(e=h,f=k,g="video/mp4");var m={};e.forEach(function(a,b){m[a]={pri:b,found:!1}}),f.forEach(function(a){var b=c.makeCodecsString(g,a.codecs);j.log("Checking: ",b),!1===d(b)?j.log("  Format check failed: ",b):(j.log("  Format supported: ",b),Array.isArray(a["class"])?a["class"].forEach(function(a){j.trace("item.class: ",a),m[a]&&(m[a].found=!0)}):(j.trace("type.class: ",a["class"]),m[a["class"]]&&(m[a["class"]].found=!0)))});var n=[];for(var o in m)j.trace("filtering: ",m[o]),m[o].found&&(n[m[o].pri]=o);return n=n.filter(function(a){return"string"==typeof a}),j.trace("returning: ",n),n}function g(){return{check:function(){throw new Error(m.NotImplemented)},createParameters:function(){throw new Error(m.NotImplemented)},Format:null}}function h(a,c){var h,i=g();switch(c){case l.MediaSource:h=e;break;case l.MediaElement:h=d;break;default:throw j.error("Invalid: ",c),new Error(m.InvalidParameter)}return i.createParameters=function(){var b=h.createParameters();return b.type=a,b},i.Format=a===k.AUDIO?b.MediaFormat.Audio:b.MediaFormat.Video,i.check=function(b){var c=h.makeCheckFunction(b);return f(a,c)},i}function i(){return{Type:k,Variant:l,Error:m,get:h}}var j=a.create("FormatCheck"),k=b.MediaType,l={MediaElement:"mediaelement",MediaSource:"mediasource"},m={NotImplemented:"Not currently Implemented",InvalidParameter:"Invalid parameter"};return i()}),define("ensis/lang/function",["ensis/logger/logger"],function(a){function b(){}function c(a){return function(){e.trace("Call to NOP: ",a,": ",arguments)}}function d(a){function b(b){try{var c=[].splice.call(arguments,1);if("function"==typeof b)return b.apply(this,c);"function"==typeof a.missing&&a.missing(b,c)}catch(d){"function"==typeof a["catch"]&&a["catch"](d)}}return a=a||{},b}var e=a.create("lang/fn"),f=d();return{NOP:b,namedNOP:c,checked:f,makeChecked:d}}),define("asteroid/features",["ensis/lang/function"],function(a){function b(a,c){this.message=a||"HDMI error",this.code=c||b.Codes.DEFAULT,this.Codes=b.Codes}function c(){return{init:a.namedNOP("init"),stop:a.namedNOP("stop"),get3DSupport:a.namedNOP("get3DSupport"),getAudioSupport:a.namedNOP("getAudioSupport"),getVideoSupport:a.namedNOP("getVideoSupport"),getHdmiSupport:a.namedNOP("getHdmiSupport"),getDrmSupport:a.namedNOP("getDrmSupport"),registerHdmiChangeListener:a.namedNOP("registerHdmiChangeListener"),unregisterHdmiChangeListener:a.namedNOP("unregisterHdmiChangeListener")}}function d(){return{DrmScheme:e,HdmiError:b,HdmiState:f,createTargetFeatures:c}}b.create=function(){var a,c;return"string"==typeof arguments[0]&&(a=[].shift.call(arguments)),"number"==typeof arguments[0]&&(c=[].shift.call(arguments)),new b(a,c)},b.Codes={DEFAULT:0,UNKNOWN:1,NOT_SUPPORTED:16};var e={PLAYREADY:"playready",WIDEVINE:"widevine"},f={ACTIVATED:"ACTIVATED",DEACTIVATED:"DEACTIVATED"};return d();
}),define("asteroid/target/features",["ensis/media/formatcheckV2","ensis/media/types","asteroid/features"],function(a,b,c){"use strict";function d(a){if(a=m(a),n=window.webOS||window.parent.window.webOS,!n)throw new Error(o.nowebos);if(p.ready)a();else{if(p.pending)throw new Error(o.pending);k(a)}}function e(){}function f(){if(!p.ready)throw new Error(o.noinit);return p.has3D}function g(){if(!p.ready)throw new Error(o.noinit);var c=a.get(a.Type.AUDIO,a.Variant.MediaSource),d=c.check();return-1!==d.indexOf(b.MediaFormat.Audio.DDP)&&d.push(b.MediaFormat.Audio.ATMOS),d}function h(){if(!p.ready)throw new Error(o.noinit);var c=[],d=a.get(a.Type.VIDEO,a.Variant.MediaSource),e=d.check(),f=[b.MediaFormat.Video.SD,b.MediaFormat.Video.HD,b.MediaFormat.Video.HDX,b.MediaFormat.Video.SD_HIGHP,b.MediaFormat.Video.HDX_HIGHP,b.MediaFormat.Video.SD_MAIN10,b.MediaFormat.Video.HDX_MAIN10];return f.forEach(function(a){-1!==e.indexOf(a)&&c.push(a)}),p.hasUHD&&(c.push(d.Format.SDR),c.push(d.Format.UHD_MAIN10),[d.Format.UHD_HDR10,d.Format.UHD_DOVI4,d.Format.UHD_DOVI5].forEach(function(a){-1!==e.indexOf(a)&&c.push(a)})),c}function i(){throw c.HdmiError.create("LG devices do not have HDMI output",c.HdmiError.Codes.NOT_SUPPORTED)}function j(){return[c.DrmScheme.PLAYREADY]}function k(a){p.pending=n.service.request("luna://com.webos.service.tv.systemproperty",{method:"getSystemInfo",parameters:{keys:["UHD","_3d"],subscribe:!1},onComplete:function(b){p.pending=null,b.returnValue&&(p.ready=!0,p.has3D=b._3d,p.hasUHD=b.UHD),a()}})}function l(){}function m(a){return"function"!=typeof a?l:a}var n,o={noinit:"Called before init()",pending:"init is active",nowebos:"Couldn't get reference to webOS"},p={pending:null,ready:!1,hasUHD:!1,has3D:!1};return{init:d,stop:e,get3DSupport:f,getAudioSupport:g,getVideoSupport:h,getHdmiSupport:i,getDrmSupport:j}}),define("ensis/vudu/playerbridge/bridge",["ensis/lang/function","ensis/logger/logger"],function(a,b){"use strict";function c(){return{flush:a.namedNOP("flush"),loadLicense:a.namedNOP("loadLicense"),pause:a.namedNOP("pause"),play:a.namedNOP("play"),registerStateChangeHandler:a.namedNOP("registerStateChangeHandler"),seek:a.namedNOP("seek"),setVolume:a.namedNOP("setVolume"),start:a.namedNOP("start"),stop:a.namedNOP("stop"),unregisterStateChangeHandler:a.namedNOP("unregisterStateChangeHandler")}}function d(a,b){function c(c){a.postMessage({type:j.STATE_CHANGE,context:b,status:c},"*")}function d(){a.postMessage({type:j.READY,context:b},"*")}function e(){a.postMessage({type:j.DESTROYED,context:b},"*")}function f(){a=null}return{ready:d,destroyed:e,stateChange:c,stop:f}}function e(b,c){function d(a){if(!a||!a.data)return void k.warn("received message with no data");if(j.COMMAND!==a.data.type)return void k.trace("Received message with invalid type");var b=a.data.cmd,d=a.data.args;f(c[b],d)}function e(){b.removeEventListener("message",d,!1),b={}}b.addEventListener("message",d,!1);var f=a.makeChecked({missing:function(a,b){k.error("No handler for ",a)},"catch":function(a){k.error("Host listener threw: ",a.message)}});return{stop:e}}function f(a,b){var c={};c.type=j.COMMAND,c.cmd=a,c.args={};for(var d in b)b.hasOwnProperty(d)&&(c.args[d]=b[d]);return c}function g(a){var b={};return b.type=j.CONNECT,b.context=""+a,b}function h(a,b){var c={};c.state=[a];for(var d in b)if(b.hasOwnProperty(d)){var e=b[d];Array.isArray(e)||(e=[""+e]),c[d]=e}return c}function i(){return{EVENT:j,getBridgeToHost:d,getBridgeFromHost:e,createHostCmdListener:c,formatHostCommand:f,formatHostConnectMessage:g,formatPlayerMessage:h}}var j={STATE_CHANGE:"com.vudu.player.bridge.statechange",READY:"com.vudu.player.bridge.ready",DESTROYED:"com.vudu.player.bridge.destroyed",CONNECT:"com.vudu.player.bridge.connect",COMMAND:"com.vudu.player.bridge.command"},k=b.create("Bridge");return i()}),define("ensis/vudu/playerbridge/params",[],function(){function a(a,b,c,d){return{fixed:!!c||!!d,suggestedMaxBitrate:a,suggestedMaxResolution:b,fixedBitrate:c,fixedResolution:d}}function b(b){return a(b)}function c(b){return a(null,b)}function d(b){return a(null,null,b)}function e(b){return a(null,null,null,b)}function f(a,b,c,d){return"undefined"==typeof d&&(d=[]),{uriBase:a,uriSuffix:b,type:c,subtitles:d}}function g(a,b,c){return{name:a,languageCode:b,version:c}}function h(){for(var a=h.Builder(),b=0;b!==arguments.length;++b){var c=arguments[b];"string"==typeof c&&(c=i(c)),a.add(c)}return a.build()}function i(a){switch(a){case"leftRight":case"topBottom":case"twoD":return h.Dimensionality(a);case"sdr":case"highP":case"main10":case"hdr10":case"dvheStn":case"dvheDtr":return h.VideoProfile(a);default:return}}function j(a,b){return{target:a,pause:b}}var k={480:"480",720:"720",1080:"1080",2160:"2160"};h.Dimensionality=function(a){return{dimensionality:a}},h.VideoProfile=function(a){return{videoprofile:a}},h.Builder=function(){var a=function(){var b={};return{add:function(c){for(var d in c)c.hasOwnProperty(d)&&(b[d]=c[d]);return a},build:function(){return b}}}();return a};var l={BEFORE:"before",EXACT:"exact",AFTER:"after"};return{EditionProfile:h,QualityInfo:a,QualityInfoResolution:k,QualityInfoFixedBitrate:d,QualityInfoFixedResolution:e,QualityInfoSuggestedMaxBitrate:b,QualityInfoSuggestedMaxResolution:c,SeekTarget:l,SeekOptions:j,SubtitleInfo:f,SubtitleInfoLanguageOption:g}}),define("ensis/vudu/playerbridge/msgbuilder",["ensis/logger/logger","./bridge","./params"],function(a,b,c){"use strict";function d(a,b){return a&&Array.isArray(a)&&a.length>=1?a[0]:b}function e(){return{HostMsgBuilder:g,HostMsgParser:h,PlayerMsgBuilder:i,PlayerMsgParser:j}}var f=a.create("Bridge/util"),g={flushStats:function(){return b.formatHostCommand("flushStats")},loadLicense:function(a,c){return b.formatHostCommand("loadLicense",{requestSequence:a,token:c})},loadPlayerImplementation:function(a){return b.formatHostCommand("loadPlayerImplementation",{playerInfo:a})},pause:function(){return b.formatHostCommand("pause")},play:function(){return b.formatHostCommand("play")},registerStateChangeHandler:function(a){return f.error("State change handler is Obsolete"),b.formatHostCommand("registerStateChangeHandler")},seek:function(a,c){var d={position:a};return"object"==typeof c&&(d.options=c),b.formatHostCommand("seek",d)},selectCaptionTrack:function(a){return b.formatHostCommand("selectCaptionTrack",{lang:a})},selectRepresentation:function(a,c){return b.formatHostCommand("selectRepresentation",{audio:c,video:a})},selectStreamingAlgorithm:function(a){return b.formatHostCommand("selectStreamingAlgorithm",{algorithm:a})},setCaptionStyle:function(a){return b.formatHostCommand("setCaptionStyle",{style:a})},setDebugLevel:function(a,c){return b.formatHostCommand("setDebugLevel",{logging:a,statistics:c})},setVolume:function(a,c){return b.formatHostCommand("setVolume",{volume:a,muted:c})},start:function(a,d,e,f,g,h,i){return"string"==typeof g&&(g=c.EditionProfile(g)),b.formatHostCommand("start",{uriSuffix:a,fullUrl:d,bookmarkTime:e,movieQuality:f,editionprofile:g,subtitleInfo:h,qualityInfo:i})},stop:function(){return b.formatHostCommand("stop")},unregisterStateChangeHandler:function(){return f.error("State change handler is Obsolete"),b.formatHostCommand("unregisterStateChangeHandler")}},h={flushStats:function(a){return[]},loadLicense:function(a){return[a.requestSequence,a.token]},loadPlayerImplementation:function(a){return[a.playerInfo]},pause:function(a){return[]},play:function(a){return[]},registerStateChangeHandler:function(){return f.error("State change handler is Obsolete"),[]},seek:function(a){return[a.position,a.options]},selectCaptionTrack:function(a){var b;return"undefined"!=typeof a.lang&&(b=a.lang),[b]},selectRepresentation:function(a){var b=a.audio,c=a.video;return"undefined"!=typeof b&&null!==b&&"number"==typeof b||(b=Number.NaN),"undefined"!=typeof c&&null!==c&&"number"==typeof c||(c=Number.NaN),[c,b]},selectStreamingAlgorithm:function(a){return[a.algorithm]},setCaptionStyle:function(a){return[a.style]},setDebugLevel:function(a){return[a.logging,a.statistics]},setVolume:function(a){return[a.volume,a.muted]},start:function(a){var b=a.qualityInfo;a.suggestedMaxBitrate&&("number"==typeof a.suggestedMaxBitrate?b=c.QualityInfoSuggestedMaxBitrate(a.suggestedMaxBitrate):"string"==typeof a.suggestedMaxBitrate&&(b=c.QualityInfoSuggestedMaxBitrate(Number.parseInt(a.suggestedMaxBitrate)))),"number"==typeof b?b=c.QualityInfoSuggestedMaxBitrate(b):"string"==typeof b&&(b=c.QualityInfoSuggestedMaxBitrate(Number.parseInt(b)));var d;return d="string"==typeof a.dimensionality?c.EditionProfile(a.dimensionality):a.editionprofile?"string"==typeof a.editionprofile?c.EditionProfile(a.editionprofile):a.editionprofile:c.EditionProfile(),[a.uriSuffix,a.fullUrl,a.bookmarkTime,a.movieQuality,d,a.subtitleInfo,b]},stop:function(a){return[]},unregisterStateChangeHandler:function(a){return f.error("State change handler is Obsolete"),[]}},i={autoplayDisabled:function(){return b.formatPlayerMessage("autoplayDisabled")},bufferLoaded:function(){return b.formatPlayerMessage("bufferloaded")},bufferUnderrun:function(){return b.formatPlayerMessage("bufferunderrun")},changedBitrateIndex:function(a){return b.formatPlayerMessage("changedBitrateIndex",{newBitrate:""+a})},changedDebugInfo:function(a){return b.formatPlayerMessage("changedDebugInfo",{newDebugInfo:a})},ended:function(a,c){return b.formatPlayerMessage("ended",{currentTime:a,duration:c})},playerError:function(a,c){return b.formatPlayerMessage("playererror",{errortype:a,errorreason:c})},playerStopped:function(a,c){return b.formatPlayerMessage("playerStopped",{reason:a,extra:c})},licenseRequest:function(a,c,d){return b.formatPlayerMessage("licenseRequest",{requestSequence:a,drmType:c,drmToken:d})},loadedBitrates:function(a,c){return b.formatPlayerMessage("loadedBitrates",{length:a,bitrates:c})},loadedPlayer:function(a,c){return b.formatPlayerMessage("loadedPlayer",{id:a,streamingAlgorithm:c})},loadSubtitles:function(a){return f.warn("DEPRECATED.  Subtitles must go via Second Screen APIs now"),b.formatPlayerMessage("loadSubtitles",{name:a})},paused:function(a){return b.formatPlayerMessage("paused",{currentTime:a})},playbackRateChanged:function(a){return b.formatPlayerMessage("playbackRateChanged",{playbackRate:a})},playing:function(){return b.formatPlayerMessage("playing")},seeked:function(){return b.formatPlayerMessage("seeked")},seeking:function(){return b.formatPlayerMessage("seeking")},sendNetLogs:function(a,c){return b.formatPlayerMessage("sendNetLogs",{level:a,message:c})},sendStats:function(a){return b.formatPlayerMessage("sendStats",{stats:a})},sendStatsV3:function(a){return b.formatPlayerMessage("sendStatsV3",{stats:a})},setSubtitleStyle:function(a){return f.warn("DEPRECATED.  Subtitles must go via Second Screen APIs now"),b.formatPlayerMessage("setSubtitleStyle",{style:a})},timeChanged:function(a,c){return b.formatPlayerMessage("timeChanged",{currentTime:a,duration:c})},unloadSubtitles:function(){return f.warn("DEPRECATED.  Subtitles must go via Second Screen APIs now"),b.formatPlayerMessage("unloadSubtitles",{})},volumeChanged:function(a,c){return"boolean"==typeof c?c=c?"true":"false":"number"==typeof c?c=0!==c?"true":"false":"string"!=typeof c&&(c="false"),b.formatPlayerMessage("volumeChanged",{volume:""+a,muted:c})}},j={autoplayDisabled:function(){return[]},bufferLoaded:function(){return[]},bufferUnderrun:function(){return[]},changedBitrateIndex:function(a){return[+d(a.newBitrate,"0")]},changedDebugInfo:function(a){return[d(a.newDebugInfo," *** missing debug info *** ")]},ended:function(a){var b=+d(a.currentTime,"0"),c=+d(a.duration,"0");return[b,c]},playerError:function(a){return[d(a.errortype),d(a.errorreason)]},playerStopped:function(a){return[d(a.reason,""),d(a.extra,"")]},licenseRequest:function(a){return[d(a.requestSequence),d(a.drmType),d(a.drmToken)]},loadedBitrates:function(a){return[+d(a.length,0),a.bitrates]},loadedPlayer:function(a){return[a.id,a.streamingAlgorithm]},loadSubtitles:function(){return[]},paused:function(a){return[+d(a.currentTime,0)]},playbackRateChanged:function(a){return[+d(a.playbackRate,0)]},playing:function(){return[]},seeked:function(){return[]},seeking:function(){return[]},sendNetLogs:function(a){return[d(a.level,"<unknown>"),d(a.message)]},sendStats:function(a){return[d(a.stats,{})]},sendStatsV3:function(a){return[d(a.stats,{})]},setSubtitleStyle:function(){return[]},timeChanged:function(a){return[+d(a.currentTime,0),+d(a.duration,0)]},unloadSubtitles:function(){return[]},volumeChanged:function(a){var b=d(a.muted,"false");return b="true"===b,[+d(a.volume,Number.NaN),b]}};return e()}),define("asteroid/buildinfo",{build:"317595.58_asteroid2-sta",target:"vesta",config:"release",date:"2020-04-28T04:35:04.461Z"}),require(["ensis/lang/object","asteroid/target/target","asteroid/target/features","ensis/vudu/playerbridge/bridge","ensis/vudu/playerbridge/msgbuilder","ensis/vudu/playerbridge/params","asteroid/buildinfo"],function(a,b,c,d,e,f,g){"use strict";var h=g.build;if("string"==typeof h){var i=h.split("_");i&&i[0]&&i[0].length&&(h=i[0])}window.Asteroid.FormatCheck={check:function(){return c.getVideoSupport()}},Asteroid.Features=c,Asteroid.getTarget=function(){return b.target},Asteroid.getBuildInfo=function(){return JSON.stringify(g)},Asteroid.getBuildNumber=function(){return h},Asteroid.PlayerBridge={Bridge:d,Builder:e,Params:f},Asteroid.isAuxWindow=!0,c.init(function(){Asteroid.ready=!0;var a=new CustomEvent(Asteroid.ReadyEvent);window.dispatchEvent(a)})}),define("src/asteroid/EnsisAuxLoader.js",function(){});
//# sourceMappingURL=asteroid_aux.all.js.map